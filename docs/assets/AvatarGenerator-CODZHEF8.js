import{d as A,r as c,k as S,p as B,c as f,a as e,b as p,v as b,F as $,q as z,s as x,t as C,x as F,o as _,n as D,_ as E}from"./index-CiOXiSB6.js";const U={class:"avatar-container"},I={class:"tool-wrapper"},M={class:"input-section"},T={class:"form-group"},V={class:"form-group"},R={class:"color-options"},q=["onClick"],G={class:"form-group"},L={class:"radio-group"},j={class:"radio-label"},H={class:"radio-label"},N={class:"form-group"},P={class:"size-slider"},J={class:"preview-section"},K={class:"avatar-preview"},O=A({__name:"AvatarGenerator",setup(Q){const o=c(""),d=["#1890FF","#52C41A","#FAAD14","#F5222D","#722ED1","#13C2C2","#EB2F96","#FA8C16","#A0D911","#2F54EB"],u=c(0),r=c("#FFFFFF"),n=c(200),m=S(()=>o.value?/[\u4e00-\u9fa5]/.test(o.value)?o.value.length>2?o.value.substring(o.value.length-2):o.value:o.value.split(" ").filter(s=>s.length>0).map(s=>s[0].toUpperCase()).join("").substring(0,2):""),y=s=>{u.value=s},v=()=>{},h=()=>{if(!document.querySelector(".avatar"))return;const t=document.createElement("canvas"),a=n.value;t.width=a,t.height=a;const l=t.getContext("2d");if(!l)return;l.fillStyle=d[u.value],l.fillRect(0,0,a,a),l.fillStyle=r.value,l.font=`bold ${a*.4}px Arial, sans-serif`,l.textAlign="center",l.textBaseline="middle",l.fillText(m.value,a/2,a/2);const i=document.createElement("a");i.download=`avatar-${o.value}.png`,i.href=t.toDataURL("image/png"),i.click()},w=async()=>{if(!document.querySelector(".avatar"))return;const t=document.createElement("canvas"),a=n.value;t.width=a,t.height=a;const l=t.getContext("2d");if(l){l.fillStyle=d[u.value],l.fillRect(0,0,a,a),l.fillStyle=r.value,l.font=`bold ${a*.4}px Arial, sans-serif`,l.textAlign="center",l.textBaseline="middle",l.fillText(m.value,a/2,a/2);try{const i=await new Promise(k=>{t.toBlob(g=>{g&&k(g)},"image/png")});await navigator.clipboard.write([new ClipboardItem({"image/png":i})]),alert("头像已复制到剪贴板")}catch(i){console.error("复制到剪贴板失败:",i),alert("复制到剪贴板失败，请尝试下载图片")}}};return B(()=>{u.value=Math.floor(Math.random()*d.length)}),(s,t)=>(_(),f("div",U,[t[10]||(t[10]=e("h1",null,"姓名头像生成工具",-1)),e("div",I,[e("div",M,[e("div",T,[t[4]||(t[4]=e("label",{for:"name-input"},"姓名",-1)),p(e("input",{id:"name-input","onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),placeholder:"请输入姓名",class:"text-input",onInput:v},null,544),[[b,o.value]])]),e("div",V,[t[5]||(t[5]=e("label",null,"背景颜色",-1)),e("div",R,[(_(),f($,null,z(d,(a,l)=>e("div",{key:l,style:F({backgroundColor:a}),class:D(["color-option",{active:u.value===l}]),onClick:i=>y(l)},null,14,q)),64))])]),e("div",G,[t[8]||(t[8]=e("label",null,"字体颜色",-1)),e("div",L,[e("label",j,[p(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=a=>r.value=a),value:"#FFFFFF",onChange:v},null,544),[[x,r.value]]),t[6]||(t[6]=e("span",null,"白色",-1))]),e("label",H,[p(e("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=a=>r.value=a),value:"#000000",onChange:v},null,544),[[x,r.value]]),t[7]||(t[7]=e("span",null,"黑色",-1))])])]),e("div",N,[t[9]||(t[9]=e("label",null,"头像大小",-1)),e("div",P,[p(e("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=a=>n.value=a),min:"100",max:"300",step:"10",onInput:v},null,544),[[b,n.value]]),e("span",null,C(n.value)+"px",1)])])]),e("div",J,[e("div",K,[e("div",{class:"avatar",style:F({backgroundColor:d[u.value],color:r.value,width:`${n.value}px`,height:`${n.value}px`,fontSize:`${n.value*.4}px`,lineHeight:`${n.value}px`})},C(m.value),5)]),e("div",{class:"action-buttons"},[e("button",{onClick:h,class:"action-button"},"下载头像"),e("button",{onClick:w,class:"action-button"},"复制到剪贴板")])])])]))}}),X=E(O,[["__scopeId","data-v-936ddd9c"]]);export{X as default};
